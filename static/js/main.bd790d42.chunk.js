(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{148:function(e,a,t){},264:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(10),r=t.n(c),o=(t(148),t(16)),i=t(309),d=t(310),u=t(311),l=t(303),h=t(312),j=t(313),p=t(265),b=t(298),f=t(304),v=t(131),O=t.n(v),m=t(21),g=Object(m.c)({name:"params",initialState:{country:"",date:"",period:0,province:"",totalCases:0,totalDeaths:0},reducers:{update:function(e,a){var t=a.payload,n=t.country,s=t.period,c=t.province;e.country=n,e.date="",e.period=s,e.province=c,e.totalCases=0,e.totalDeaths=0},updateDate:function(e,a){e.date=a.payload},updateTotal:function(e,a){e.totalCases=a.payload.totalCases,e.totalDeaths=a.payload.totalDeaths}}}),x=g.actions,y=x.update,C=x.updateDate,k=x.updateTotal,w=function(e){return e.params},S=g.reducer,A=t(26),E=t(51),N=t(29),B=t.n(N),D=t(52);function P(e,a){return fetch("https://corona.lmao.ninja/v2/historical/".concat(e,"?lastdays=").concat(a+1)).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function F(e,a){if(e)return fetch("https://corona.lmao.ninja/v2/historical/usacounties/".concat(e,"?lastdays=").concat(a+1)).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}var R=Object(m.b)("reports/fetchByCountry",function(){var e=Object(D.a)(B.a.mark((function e(a){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.country,n=a.period,e.abrupt("return",P(t,n));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),T=Object(m.b)("reports/fetchByCountryAndDate",function(){var e=Object(D.a)(B.a.mark((function e(a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.country,a.period,e.abrupt("return",new Promise((function(e){return e({date:"01/01/2021",states:{alabama:{cases:1232,deaths:1},alaska:{cases:39,deaths:2},"american samoa":{cases:291,deaths:3},arizona:{cases:298,deaths:4},arkansas:{cases:123,deaths:5},california:{cases:372,deaths:6},colorado:{cases:23,deaths:7},connecticut:{cases:18,deaths:8},delaware:{cases:292,deaths:9},"diamond princess":{cases:27,deaths:10},"district of columbia":{cases:99,deaths:11},florida:{cases:282,deaths:12},georgia:{cases:999,deaths:13},"grand princess":{cases:289,deaths:14},guam:{cases:456,deaths:15},hawaii:{cases:278,deaths:16},idaho:{cases:673,deaths:17},illinois:{cases:92,deaths:18},indiana:{cases:198,deaths:19},iowa:{cases:38,deaths:20},kansas:{cases:382,deaths:21},kentucky:{cases:43,deaths:22},louisiana:{cases:8,deaths:23},maine:{cases:393,deaths:24},maryland:{cases:393,deaths:25},massachusetts:{cases:484,deaths:26},michigan:{cases:399,deaths:28},minnesota:{cases:59,deaths:29},mississippi:{cases:10,deaths:30},missouri:{cases:4,deaths:31},montana:{cases:291,deaths:32},nebraska:{cases:484,deaths:33},nevada:{cases:33,deaths:34},"new hampshire":{cases:87,deaths:35},"new jersey":{cases:392,deaths:36},"new mexico":{cases:100,deaths:27},"new york":{cases:2,deaths:1},"north carolina":{cases:44,deaths:11},"north dakota":{cases:989,deaths:1},"northern mariana islands":{cases:88,deaths:0},ohio:{cases:383,deaths:0},oklahoma:{cases:22,deaths:0},oregon:{cases:989,deaths:0},pennsylvania:{cases:99,deaths:0},"puerto rico":{cases:11,deaths:1},"rhode island":{cases:22,deaths:2},"south carolina":{cases:33,deaths:0},"south dakota":{cases:44,deaths:1},tennessee:{cases:55,deaths:0},texas:{cases:66,deaths:0},utah:{cases:0,deaths:0},vermont:{cases:77,deaths:1},"virgin islands":{cases:98,deaths:15},virginia:{cases:22,deaths:19},washington:{cases:11,deaths:1},"west virginia":{cases:90,deaths:1},wisconsin:{cases:13,deaths:1},wyoming:{cases:12,deaths:0}}})})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),W=Object(m.b)("reports/fetchByProvince",function(){var e=Object(D.a)(B.a.mark((function e(a){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.province,n=a.period,e.abrupt("return",F(t,n));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),U=Object(m.c)({name:"reports",initialState:{loading:!1,countryProvinces:[],countries:[],provinces:[]},extraReducers:function(e){e.addCase(R.pending,(function(e){e.loading=!0})).addCase(R.fulfilled,(function(e,a){e.loading=!1,e.countries=a.payload})).addCase(R.rejected,(function(e,a){e.loading=!1,e.error=a.payload})).addCase(T.pending,(function(e){e.loading=!0})).addCase(T.fulfilled,(function(e,a){e.loading=!1,e.countryProvinces=a.payload})).addCase(T.rejected,(function(e,a){e.loading=!1,e.error=a.payload})).addCase(W.pending,(function(e){e.loading=!0})).addCase(W.fulfilled,(function(e,a){e.loading=!1,e.provinces=a.payload})).addCase(W.rejected,(function(e,a){e.loading=!1,e.error=a.payload}))}}),Z=function(e){return e.reports.countries.timeline},z=function(e){return e.reports.countryProvinces.states},G=function(e){return e.reports.provinces},I=U.reducer,J=t(301),L=t(4),M=Object(b.a)((function(e){return{root:{display:"flex",justifyContent:"center",height:100,flexGrow:1,margin:e.spacing(10)}}}));function V(){var e=M();return Object(L.jsx)("div",{className:e.root,children:Object(L.jsx)(J.a,{})})}var $={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};function q(){var e=Object(o.b)(),a=Object(o.c)(Z),t=Object(n.useState)({}),s=Object(A.a)(t,2),c=s[0],r=s[1];Object(n.useEffect)((function(){if(a){var e=Object.keys(a.cases),t=Object.values(a.cases),n=Object.values(a.deaths);e.shift();var s=t.shift(),c=n.shift();r({labels:e,datasets:[{label:"cases",data:t.map((function(e){return e-s||0})),backgroundColor:"rgb(63, 81, 181)"},{label:"deaths",data:n.map((function(e){return e-c||0})),backgroundColor:"rgb(231, 53, 90)"}]})}}),[a]);return a?Object(L.jsx)(E.a,{data:c,options:$,getElementAtEvent:function(a){if(a.length){var t=a[0].index,n=c.datasets[0].data[t],s=c.datasets[1].data[t],r=c.labels[t];e(C(r)),e(k({totalCases:n,totalDeaths:s})),e(T(r))}}}):Object(L.jsx)(V,{})}var H={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};function K(){var e=Object(o.c)(z),a=Object(n.useState)({}),t=Object(A.a)(a,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){if(e){var a=Object.keys(e),t=Object.values(e).reduce((function(e,a){return{cases:e.cases.concat(a.cases),deaths:e.deaths.concat(a.deaths)}}),{cases:[],deaths:[]}),n=t.cases,s=t.deaths;c({labels:a,datasets:[{label:"cases",data:n,backgroundColor:"rgb(63, 81, 181)"},{label:"deaths",data:s,backgroundColor:"rgb(231, 53, 90)"}]})}}),[e]),e?Object(L.jsx)(E.a,{data:s,options:H}):Object(L.jsx)(V,{})}var Q={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};function X(){var e=Object(o.c)(G),a=Object(n.useState)({}),t=Object(A.a)(a,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){if(null===e||void 0===e?void 0:e.length){var a=e.reduce((function(e,a){var t=Object.keys(a.timeline.cases),n=Object.values(a.timeline.cases),s=Object.values(a.timeline.deaths);t.shift();var c=n.shift(),r=s.shift(),o=n.map((function(e){return e-c||0})),i=s.map((function(e){return e-r||0}));return t.forEach((function(a,t){e.cases[a]=e.cases[a]?e.cases[a]+o[t]:o[t],e.deaths[a]=e.deaths[a]?e.deaths[a]+i[t]:i[t]})),e}),{cases:{},deaths:{}}),t=Object.keys(a.cases),n=Object.values(a.cases),s=Object.values(a.deaths);c({labels:t,datasets:[{label:"cases",data:n,backgroundColor:"rgb(63, 81, 181)"},{label:"deaths",data:s,backgroundColor:"rgb(231, 53, 90)"}]})}}),[e]),e?Object(L.jsx)(E.a,{data:s,options:Q}):Object(L.jsx)(V,{})}function Y(e){return Object(L.jsx)(l.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var _=Object(b.a)((function(e){return{icon:{marginRight:e.spacing(1)}}}));function ee(e){var a=e.params,t=_(),n=Object(o.b)();return a.date?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(Y,{children:[Object(L.jsx)(f.a,{color:"primary",className:t.icon,onClick:function(){return n(C(""))},children:Object(L.jsx)(O.a,{})}),"Results for ",a.date," with total ",a.totalCases," cases (",a.totalDeaths," deaths)"]}),Object(L.jsx)(K,{})]}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Y,{children:"Results"}),a.province?Object(L.jsx)(X,{}):Object(L.jsx)(q,{})]})}var ae=t(14),te=t(28),ne=t(135),se=t(305),ce=t(316),re=t(314),oe=t(318),ie=t(315);var de=Object(m.b)("provinces/fetch",Object(D.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://corona.lmao.ninja/v2/historical/usacounties").then((function(e){return e.json()})).catch((function(e){return console.error(e)})));case 1:case"end":return e.stop()}}),e)})))),ue={error:void 0,loading:!1,provinces:[]},le=Object(m.c)({name:"provinces",initialState:ue,extraReducers:function(e){e.addCase(de.pending,(function(e){e.loading=!0})).addCase(de.fulfilled,(function(e,a){var t;e.loading=!1,e.provinces=null===(t=a.payload)||void 0===t?void 0:t.map((function(e){return{label:e,value:e}}))})).addCase(de.rejected,(function(e,a){e.loading=!1,e.error=a.payload}))}}),he=function(e){return e.provinces.provinces},je=le.reducer,pe=[{value:"USA",label:"USA"}],be=[{value:7,label:"last 7 days"},{value:30,label:"last 1 month"},{value:1e3,label:"all time"}],fe=Object(b.a)((function(e){return{formControl:{marginBottom:e.spacing(1),width:"100%"}}}));function ve(){var e=fe(),a=Object(o.b)(),t=Object(o.c)(he),c=s.a.useState({country:"USA",province:void 0,period:7}),r=Object(A.a)(c,2),i=r[0],d=r[1];Object(n.useEffect)((function(){a(de())}),[]),Object(n.useEffect)((function(){a(R({country:i.country,period:+i.period}))}),[i.country,i.period]),Object(n.useEffect)((function(){a(W({province:i.province,period:+i.period}))}),[i.province,i.period]),Object(n.useEffect)((function(){a(y(i))}),[i.country,i.period,i.province]);var u=Object(ne.a)({initialValues:i,onSubmit:function(){a(R({country:i.country,period:+i.period})),a(W({province:i.province,period:+i.period}))}}),l=function(e,a,t){var n=Object(te.a)(Object(te.a)({},i),{},Object(ae.a)({},t,"period"===t?+a:a));d(n),u.submitForm()};return Object(L.jsx)("div",{children:Object(L.jsxs)("form",{onSubmit:u.handleSubmit,children:[Object(L.jsxs)(se.a,{className:e.formControl,variant:"outlined",children:[Object(L.jsx)(ce.a,{htmlFor:"country",children:"Country"}),Object(L.jsx)(re.a,{id:"country",label:"Country",value:i.country,onChange:function(e){return l(0,e.target.value,"country")},disabled:!0,native:!0,children:pe.map((function(e){return Object(L.jsx)("option",{value:e.value,children:e.label},"country-".concat(e.value))}))})]}),Object(L.jsx)(se.a,{className:e.formControl,variant:"outlined",children:Object(L.jsx)(ie.a,{id:"state",options:t,getOptionLabel:function(e){return e.label},onChange:function(e,a){return l(0,null===a||void 0===a?void 0:a.value,"province")},renderInput:function(a){return Object(L.jsx)(oe.a,Object(te.a)(Object(te.a)({},a),{},{label:"State",variant:"outlined",className:e.capitalize}))}})}),Object(L.jsxs)(se.a,{className:e.formControl,variant:"outlined",children:[Object(L.jsx)(ce.a,{htmlFor:"country",children:"Period"}),Object(L.jsx)(re.a,{id:"period",label:"Period",value:i.period,onChange:function(e){return l(0,e.target.value,"period")},native:!0,children:be.map((function(e){return Object(L.jsx)("option",{value:e.value,children:e.label},"period-".concat(e.value))}))})]})]})})}var Oe=Object(b.a)((function(e){return{appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},content:{flexGrow:1,height:"100vh",overflow:"auto"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},root:{display:"flex"}}}));function me(){var e=Oe(),a=Object(o.c)(w);return Object(L.jsxs)("div",{className:e.root,children:[Object(L.jsx)(i.a,{}),Object(L.jsx)(d.a,{position:"absolute",children:Object(L.jsx)(u.a,{children:Object(L.jsx)(l.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,children:"Covid Tracker"})})}),Object(L.jsxs)("main",{className:e.content,children:[Object(L.jsx)("div",{className:e.appBarSpacer}),Object(L.jsx)(h.a,{maxWidth:"lg",className:e.container,children:Object(L.jsxs)(j.a,{container:!0,spacing:3,children:[Object(L.jsxs)(j.a,{item:!0,xs:12,md:5,lg:5,children:[Object(L.jsx)(Y,{children:"Search params"}),Object(L.jsx)(ve,{})]}),Object(L.jsx)(j.a,{item:!0,xs:12,children:Object(L.jsx)(p.a,{className:e.paper,children:Object(L.jsx)(ee,{params:a})})})]})})]})]})}var ge=Object(m.a)({reducer:{params:S,provinces:je,reports:I}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(L.jsx)(s.a.StrictMode,{children:Object(L.jsx)(o.a,{store:ge,children:Object(L.jsx)(me,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[264,1,2]]]);
//# sourceMappingURL=main.bd790d42.chunk.js.map